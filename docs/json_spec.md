# Steel Girder Bridge IFC Model Generation System - JSON Input File Specification

## 1. Overview

This specification defines the structure and meaning of each field in the JSON input file used to generate IFC models for steel girder bridges. The JSON file can be either auto-generated from an Excel file or created manually.

## 2. Overall JSON File Structure

The JSON file is a top-level object with the following keys:

```json
{
    "Infor": { ... },
    "Senkei": [ ... ],
    "Calculate": [ ... ],
    "MainPanel": [ ... ],
    "SubPanel": [ ... ],
    "Taikeikou": [ ... ],
    "Yokokou": [ ... ],
    "Yokogeta": [ ... ],
    "Shouban": [ ... ],
    "MemberSPL": [ ... ],
    "MemberRib": [ ... ],
    "MemberData": [ ... ]
}
```

Each section is optional, but at minimum `"Infor"`, `"Senkei"`, `"MainPanel"`, `"Yokogeta"`, and `"Shouban"` are required.

## 3. Detailed Specification for Each Section

### 3.1 Infor (Bridge Basic Information)

Defines the basic information for the entire bridge.

```json
{
    "NameBridge": "Bridge name (string)",
    "SideExport": 2  // Export side: 2=both sides, 1=upper only, -1=lower only
}
```

**Field Descriptions:**
- `NameBridge`: Name of the bridge (e.g., "Bridge Test")
- `SideExport`: Specifies which side(s) to export
  - `2`: Export both sides
  - `1`: Export upper side (UF, Upper Flange) only
  - `-1`: Export lower side (LF, Lower Flange) only

---

### 3.2 Senkei (Alignment Data)

Alignment data that defines the coordinate system of the bridge. Each alignment consists of multiple coordinate points.

```json
[
    {
        "Name": "Alignment name (e.g., TG1L, TG1, TG1R)",
        "Point": [
            {
                "Name": "Point name (e.g., P26, GE1, S1, C1, J1)",
                "X": 329493.70973552467,  // X coordinate (mm)
                "Y": 556065.867530174,    // Y coordinate (mm)
                "Z": 33647.799999999996   // Z coordinate (mm)
            },
            ...
        ]
    },
    ...
]
```

**Field Descriptions:**
- `Name`: Name of the alignment. Typically represents the girder number and position (e.g., "TG1L"=girder 1 left, "TG1"=girder 1 center, "TG1R"=girder 1 right, "BG1"=girder 1 lower flange)
- `Point`: Array of coordinate points
  - `Name`: Name of the point. Points representing sections (e.g., "P26", "GE1"=end, "S1"=start point, "C1"=intermediate point, "J1"=joint)
  - `X`, `Y`, `Z`: 3D coordinate values (unit: mm). When reading from Excel, meter values are multiplied by 1000 to convert to mm

**Types of Alignments:**
- `TG*L`, `TG*`, `TG*R`: Left, center, and right alignments of the upper flange (Top Girder)
- `BG*L`, `BG*`, `BG*R`: Left, center, and right alignments of the lower flange (Bottom Girder)

---

### 3.3 Calculate (Calculated Alignment Data) - Optional

Definitions for generating new alignments by calculation from existing alignments.

```json
[
    {
        "Name": "New alignment name",
        "Calculations": [
            {
                "Type": "OFFSET",  // or "MID", "Z"
                "BaseLine": "Reference alignment name",
                "Distance": distance_value (mm)
            },
            {
                "Type": "MID",
                "BaseLine1": "Reference alignment 1",
                "BaseLine2": "Reference alignment 2"
            },
            ...
        ]
    },
    ...
]
```

**Field Descriptions:**
- `Name`: Name of the new alignment generated by calculation
- `Calculations`: Array of calculation operations
  - `Type`: Calculation type
    - `"OFFSET"`: Offset by a specified distance from the reference alignment
    - `"Z"`: Offset in the Z coordinate direction
    - `"MID"`: Generate the midline between two reference alignments
  - `BaseLine`, `BaseLine1`, `BaseLine2`: Reference alignment names (referencing alignment names within `Senkei`)
  - `Distance`: Offset distance (in mm)

---

### 3.4 MainPanel (Main Panel Data)

Definitions for main panels (primary members of the main girder). Includes panels such as Web, Upper Flange, and Lower Flange.

```json
[
    {
        "Name": "Panel name (e.g., G1B1W, G2B1UF)",
        "Line": ["TG1L", "TG1", "TG1R"],  // Array of alignment names to use
        "Sec": ["GE1", "S1", "C1", "C2", "J1"],  // Array of section point names to use
        "Type": {
            "Girder": "G1",      // Girder number
            "Block": "B1",       // Block number
            "TypePanel": "W"     // Panel type: W=Web, UF=Upper Flange, LF=Lower Flange, WL=Web Left, WR=Web Right
        },
        "Material": {
            "Thick1": 4.5,       // Thickness 1 (mm)
            "Thick2": 4.5,       // Thickness 2 (mm)
            "Mat": "SM400A"      // Material name
        },
        "Expand": {
            "E1": 0,             // Left extension (mm). Numeric value or "A" (auto)
            "E2": -0.5,          // Right extension (mm). Numeric value or "A" (auto)
            "E3": "A",           // Upper extension (mm). Numeric value or "A" (auto)
            "E4": "A"            // Lower extension (mm). Numeric value or "A" (auto)
        },
        "Jbut": {
            "S": ["TG2-BG2", "X/WFJ1/X", "TG2-BG2", "X/WBJ1/X"],  // Joint info for start end
            "E": []              // Joint info for terminal end
        },
        "Break": {              // Optional: Panel division info
            "Lenght": [19675, 900],
            "Extend": [0, 0],
            "Thick": ["0/22", "0/30"]
        },
        "Corner": [],           // Optional: Corner cut info [corner1, corner2, corner3, corner4]
        "Lrib": [],             // Optional: Longitudinal rib info
        "Vstiff": [],           // Optional: Vertical stiffener info
        "Hstiff": [],           // Optional: Horizontal stiffener info
        "Atm": [],              // Optional: Anchor bolt / pedestal info
        "Cutout": [],           // Optional: Cutout info
        "Stud": []              // Optional: Stud info
    },
    ...
]
```

**Detailed Field Descriptions:**

#### 3.4.1 Type (Panel Type)

- `"W"`: Web panel - generated on both sides
- `"WL"`: Web Left - left side only
- `"WR"`: Web Right - right side only
- `"UF"`: Upper Flange
- `"LF"`: Lower Flange

#### 3.4.2 Expand (Extension)

Specifies the extension amount in each direction. A numeric value (mm) or `"A"` (auto-calculation) can be specified.

#### 3.4.3 Jbut (Joint)

Placement information for splice plates (SPL).

```json
{
    "S": ["alignment name", "pitch info", "alignment name", "pitch info", ...],  // Start end
    "E": ["alignment name", "pitch info", ...]                                   // Terminal end
}
```

Examples of pitch info format:
- `"X/WFJ1/X"`: X in alignment direction, WFJ1 in section direction, X on the other side
- `"40/LFJ23/X"`: 40mm in alignment direction, LFJ23 in section direction, X on the other side

#### 3.4.4 Break (Panel Division)

Information for dividing a panel into multiple segments.

```json
{
    "Lenght": [segment 1 length, segment 2 length, ...],  // in mm
    "Extend": [segment 1 extension, segment 2 extension, ...],
    "Thick": ["Thick1/Thick2", "Thick1/Thick2", ...]  // Thickness for each segment
}
```

#### 3.4.5 Corner (Corner Cut)

Corner cut information for the four corners.

```json
["corner1", "corner2", "corner3", "corner4"]
```

- `"N"`: No cut
- `"R<value>"`: Rounding with radius of the specified value in mm (e.g., "R50")
- `"C<value>"` or `"C<value>x<value>"`: Chamfer cut (e.g., "C15" or "C15x10")

#### 3.4.6 Lrib (Longitudinal Rib)

Placement information for longitudinal ribs.

```json
[
    ["alignment name", "pitch", "point name range"],  // First element is pitch definition
    {
        "Line": "Point name range (e.g., V1-V13)",
        "Point": "Section point name (e.g., TG2-BG2)",
        "Face": "R",  // Placement face: "L"=left, "R"=right, "T"=top, "B"=bottom
        "Name": "Rib name range (e.g., VS1-VS13)",
        "Ref": "Reference rib name (name within MemberRib)"
    },
    ...
]
```

#### 3.4.7 Vstiff (Vertical Stiffener)

Placement information for vertical stiffeners.

```json
[
    ["calculation type", "upper pitch", "lower pitch", "point name range"],  // First element is pitch definition
    {
        "Line": "Point name range",
        "Point": "Section point name",
        "Face": "R",  // or "ALL", "L"
        "Name": "Stiffener name range",
        "Ref": "Reference stiffener name (name within MemberRib)"
    },
    ...
]
```

Calculation type: `"XY"` (calculation in the XY plane), etc.

#### 3.4.8 Hstiff (Horizontal Stiffener)

Placement information for horizontal stiffeners.

```json
[
    ["alignment name", "pitch", "point name range"],
    {
        "Line": "Point name range",
        "Point": "Section point name range",
        "Face": "R",
        "Name": "Stiffener name",
        "Ref": "Reference stiffener name"
    },
    ...
]
```

#### 3.4.9 Atm (Anchor Bolt / Pedestal)

Placement information for anchor bolts and pedestals.

```json
[
    [
        ["direction", "pitch"],  // Vertical pitch
        ["alignment name", "pitch"]  // Horizontal pitch
    ],
    {
        "Angle": ["angle1", "angle2"],  // Angle setting ("V"=vertical, numeric value=angle)
        "Face": "L",  // Placement face
        "Name": "Member name",
        "Ref": "Reference member name (name within MemberData, e.g., ASHIBAR)"
    },
    ...
]
```

#### 3.4.10 Cutout

Cutout information for panels.

```json
[
    [
        ["section range", "pitch"],  // Vertical direction
        ["alignment name", "pitch"]  // Horizontal direction
    ],
    {
        "Face": "L",  // Placement face
        "Ref": "Reference member name (name within MemberData)"
    },
    ...
]
```

#### 3.4.11 Stud

Stud placement information.

```json
[
    [
        ["direction", "pitch"],
        ["alignment name", "pitch"]
    ],
    {
        "Face": "T",  // Placement face
        "Ref": "Reference member name (name within MemberData, e.g., ST1)"
    },
    ...
]
```

---

### 3.5 SubPanel (Sub Panel Data) - Optional

Definitions for sub panels (auxiliary member panels).

```json
[
    {
        "Name": "Sub panel name",
        "Girder": "Girder number",
        "Sec": ["Section start", "Section end"],
        "Point": [
            ["Point name 1", "Point name 2", "Point name 3"],
            ...
        ],
        "Part": [
            {
                "Name": "Part name",
                "Material": {
                    "Thick1": 4.5,
                    "Thick2": 4.5,
                    "Mat": "SM400A"
                },
                "Out": {
                    "L": ["LINE", "P7", "P4"],
                    "R": ["LINE", "P4", "P3", "P2"],
                    "T": ["LINE", "P2", "P1B"],
                    "B": ["ARC", "P8", "P1T", "P7"]
                },
                "Extend": {
                    "L": 0,
                    "R": 0,
                    "T": 0,
                    "B": 0
                },
                "Corner": [],
                "Slot": [],
                "Joint": {
                    "S": [],
                    "E": []
                },
                "Cutout": [],
                "Stiff": [],
                "FLG": {
                    "UFLG": [],
                    "LFLG": []
                }
            },
            ...
        ]
    },
    ...
]
```

**Field Descriptions:**
- `Point`: Combination of points that define the coordinate points of the panel
- `Part`: Array of parts
  - `Out`: Outline definition. Connects points using `"LINE"` (straight line) or `"ARC"` (arc)
  - Other fields are the same as in `MainPanel`

---

### 3.6 Taikeikou (Sway Bracing Data) - Optional

Definitions for sway bracing (diagonal bracing).

```json
[
    {
        "Name": "Sway bracing name (e.g., C1)",
        "Type": ["Type1D", "position1", "position2"],  // Type1D=lower side, Type1U=upper side
        "Girder": ["G3", "G4"],  // Girder numbers to connect
        "Point": ["TG3", "TG4", "BG4", "BG3"],  // Alignment names of connection points
        "Distmod": {
            "TL": [75, 150],  // Top Left distance correction [X, Y]
            "TR": [75, 150],  // Top Right
            "BL": [75, 250],  // Bottom Left
            "BR": [75, 250]   // Bottom Right
        },
        "Hole": {
            "TL": [diameter, "pitch", 0],
            "TR": [diameter, "pitch", 0],
            "BL": [diameter, "pitch", 0],
            "BR": [diameter, "pitch", 0]
        },
        "Vstiff": {
            "L": [thickness, material, width],
            "R": [thickness, material, width]
        },
        "Shape": {
            "T": ["direction", "size", "material", "type", angle, "pitch"],
            "B": [...],
            "L": [...],
            "R": [...]
        },
        "Guss": {
            "TL": [thickness, material, "dimensions", "extension", angle],
            "TR": [...],
            "BL": [...],
            "BR": [...],
            "Mid": [thickness, material, "dimensions", X, Y, Z]
        }
    },
    ...
]
```

---

### 3.7 Yokokou (Lateral Bracing Data) - Optional

Definitions for lateral bracing.

```json
[
    {
        "Name": "Lateral bracing name (e.g., G1-G2)",
        "Type": ["L", "B"],  // Type (L=left, R=right, CL=center-left, CR=center-right, B=lower side)
        "Girder": ["G1/W", "G2/W"],  // Girder/panel to connect
        "Point": ["S1", 180, 0, "V2", 180, 490, "C1", 180, 0, ...],  // Alternating array of points and offsets
        "Shape": [
            {
                "Name": "Shape name (e.g., Sh1)",
                "Infor": ["CT", "118x176x8x8", "SS400"],  // Type, size, material
                "Point": ["S1", "V2", "C1"],  // Reference points of the shape
                "Pitch": [390, "X", 137],  // Pitch info
                "Hole": {
                    "S": [diameter, "pitchX", "pitchY"],  // Holes at start end
                    "E": [diameter, "pitchX", "pitchY"]   // Holes at terminal end
                }
            },
            ...
        ],
        "Guss": [
            {
                "Name": "Gusset plate name",
                "Infor": [thickness, material],
                "Point": "Connection point name",
                "Face": ["TK", "A160", "YK", "O40"],  // Face info
                "Edge": ["P", "P"],  // Edge info
                "KL": [1, 8, 10],  // KL info (optional)
                "Slot": "Slot name"  // or "N"
            },
            ...
        ]
    },
    ...
]
```

---

### 3.7.1 Yokokou_Structural (Cross Beam Data) - Optional

Definitions for cross beams (structural lateral bracing). These are truss-shaped members that horizontally connect main girders to enhance the lateral rigidity of the bridge.

```json
[
    {
        "Name": "Cross beam name (e.g., YS_G1_G2)",
        "Position": "Bottom",           // "Top" or "Bottom" (default: "Bottom")
        "Girder": ["G1", "G2"],         // Array of girder numbers to connect
        "SectionRange": ["S1", "E1"],   // Section range (default: ["S1", "E1"])
        "ZOffset": 0,                   // Z-direction offset (mm) (default: 0)
        "Truss": {                      // Truss info (optional)
            "Chord": ["CT", "118x176x8x8", "SM400A"],   // Chord member shape
            "Diagonal": ["CT", "95x152x8x8", "SM400A"]  // Diagonal member shape
        },
        "Hole": {                       // Hole info (optional)
            "S": [diameter, "pitchX", "pitchY"],  // Start end
            "E": [diameter, "pitchX", "pitchY"]   // Terminal end
        },
        "Guss": []                      // Gusset plate info (optional)
    },
    ...
]
```

**Field Descriptions:**
- `Name`: Name of the cross beam
- `Position`: Placement position
  - `"Top"`: Upper side (upper flange level)
  - `"Bottom"`: Lower side (lower flange level)
- `Girder`: Main girder numbers to connect (e.g., `["G1", "G2"]` connects G1 and G2)
- `SectionRange`: Section range where the cross beam is placed
- `ZOffset`: Offset amount in the Z direction (height direction) (mm)
- `Truss`: Shape information for truss members
  - `Chord`: Shape of chord members (horizontal members) [type, size, material]
  - `Diagonal`: Shape of diagonal members [type, size, material]
- `Hole`: Bolt hole information
- `Guss`: Gusset plate information

**Usage Example:**

```json
{
    "Name": "YS_G1_G2",
    "Position": "Bottom",
    "Girder": ["G1", "G2"],
    "SectionRange": ["S1", "E1"],
    "ZOffset": 0,
    "Truss": {},
    "Hole": {},
    "Guss": []
}
```

---

### 3.7.2 Yokogeta (I-Shaped Cross Beam Data) - Optional

Definitions for I-shaped cross beams. These are structural members with an I-shaped section that connect between main girders, composed of web + upper flange + lower flange plates.

```json
[
    {
        "Name": "Cross beam name (e.g., CB_G1_G2_C3)",
        "Girder": ["G1", "G2"],         // Array of girder numbers to connect (specify two)
        "Section": "C3",                // Section position to place the cross beam
        "Reference": "Top",             // "Top" or "Bottom" (default: "Top")
        "Height": 600,                  // Cross beam depth (mm)
        "ZOffset": 0,                   // Offset from reference position (mm) (default: 0)
        "Web": {                        // Web info
            "Thick": 12,                // Plate thickness (mm)
            "Mat": "SM400A"             // Material
        },
        "UFlange": {                    // Upper flange info
            "Thick": 16,                // Plate thickness (mm)
            "Width": 200,               // Flange width (mm)
            "Mat": "SM400A"             // Material
        },
        "LFlange": {                    // Lower flange info
            "Thick": 16,                // Plate thickness (mm)
            "Width": 200,               // Flange width (mm)
            "Mat": "SM400A"             // Material
        },
        "Break": {                      // Division info (default: no division)
            "Count": 2                  // Number of divisions
        }
    },
    ...
]
```

**Field Descriptions:**
- `Name`: Name of the cross beam
- `Girder`: Main girder numbers to connect (specify two, e.g., `["G1", "G2"]` connects G1 and G2)
- `Section`: Section position where the cross beam is placed (e.g., "C1", "C3", etc.)
- `Reference`: Placement reference position (default: `"Top"`)
  - `"Top"`: The top surface of the cross beam upper flange aligns with the bottom surface of the main girder upper flange
  - `"Bottom"`: The bottom surface of the cross beam lower flange aligns with the top surface of the main girder lower flange
- `Height`: Cross beam depth (section height, mm)
- `ZOffset`: Vertical offset from the reference position (mm)
- `Web`: Web plate information
  - `Thick`: Plate thickness (mm)
  - `Mat`: Material name
- `UFlange`: Upper flange plate information
  - `Thick`: Plate thickness (mm)
  - `Width`: Flange width (mm)
  - `Mat`: Material name
- `LFlange`: Lower flange plate information (same as UFlange)
- `Break`: Thickness-direction division information (optional, for damage surface identification)
  - `Count`: Number of divisions (integer >= 1, default is 1 = no division)
  - Each plate is divided in the thickness direction (e.g., 16mm thickness divided into 2 = 8mm x 2 plates)
  - When divided, suffixes such as `_1`, `_2` are appended to element names
  - Naming convention:
    - Upper flange: `_UF_1`=top side (outer surface), `_UF_2`=bottom side (inner surface)
    - Lower flange: `_LF_1`=bottom side (outer surface), `_LF_2`=top side (inner surface)
    - Web: `_Web_1`=outer surface, `_Web_2`=inner surface

**Usage Example:**

```json
{
    "Name": "CB_G1_G2_C3",
    "Girder": ["G1", "G2"],
    "Section": "C3",
    "Reference": "Top",
    "Height": 600,
    "ZOffset": 0,
    "Web": {"Thick": 12, "Mat": "SM400A"},
    "UFlange": {"Thick": 16, "Width": 200, "Mat": "SM400A"},
    "LFlange": {"Thick": 16, "Width": 200, "Mat": "SM400A"},
    "Break": {"Count": 2}
}
```

In the example above, each plate is divided into 2 in the thickness direction, generating the following 6 elements:
- `CB_G1_G2_C3_Web_1`, `CB_G1_G2_C3_Web_2` (web)
- `CB_G1_G2_C3_UF_1`, `CB_G1_G2_C3_UF_2` (upper flange: top side / bottom side)
- `CB_G1_G2_C3_LF_1`, `CB_G1_G2_C3_LF_2` (lower flange: bottom side / top side)

This allows distinguishing which surface has damage when inputting damage information.

**Notes:**
- The positions at both ends of the cross beam are automatically calculated from the web center position of the specified main girders
- The cross beam depth (Height) should be set to fit within the web height of the main girders

---

### 3.8 Shouban (Deck Slab Data) - Optional

Definitions for the deck slab.

```json
[
    {
        "Name": "Deck_Main",
        "Line": ["TG1L", "TG1R", "TG4R", "TG4L"],
        "Sec": ["S1", "C1", "C2", "C3", "E1"],
        "Thick": 200.0,
        "OverhangLeft": 500.0,
        "OverhangRight": 500.0,
        "ZOffset": 0.0,
        "Break": {
            "Thick": 2,
            "X": 4,
            "Y": 5,
            "NoThickBreakForFlange": true
        },
        "Guardrail": {
            "Left": {"Width": 200.0, "Height": 1000.0, "Break": false},
            "Right": {"Width": 200.0, "Height": 1000.0, "Break": false}
        }
    },
    ...
]
```

**Field Descriptions:**

| Field | Type | Default | Description |
|-------|------|---------|-------------|
| `Name` | string | Required | Name of the deck slab |
| `Line` | list | Required | Alignment names defining the four corners of the deck slab (in order: top-left, top-right, bottom-right, bottom-left) |
| `Sec` | list | Required | Array of section point names to use |
| `Thick` | float | 200.0 | Deck slab thickness (mm) |
| `OverhangLeft` | float | 0 | Left overhang length (mm) |
| `OverhangRight` | float | 0 | Right overhang length (mm) |
| `ZOffset` | float | 0.0 | Z-direction offset (mm) |
| `Break` | dict | {} | Division info (see below) |
| `Guardrail` | dict | {} | Guardrail info (see below) |

#### 3.8.1 Break (Division Info)

```json
{
    "Thick": 2,                    // Number of divisions in thickness direction (default: 1)
    "X": 4,                        // Number of divisions in X direction (bridge longitudinal direction)
    "Y": 5,                        // Number of divisions in Y direction (bridge transverse direction)
    "NoThickBreakForFlange": true  // Flag to skip thickness division at upper flange locations
}
```

**Extended format for X/Y division:**

```json
// Divide at section positions
{"Type": "sections", "Sections": ["S1", "C1", "C5", "S2"]}

// Divide at web positions
{"Type": "webs", "Girders": ["G1", "G2", "G3"]}

// Equal division
{"Type": "equal", "Count": 4}
```

#### 3.8.2 Guardrail Info

```json
{
    "Left": {
        "Width": 200.0,    // Guardrail width (mm)
        "Height": 1000.0,  // Guardrail height (mm)
        "Break": false     // Whether to divide
    },
    "Right": {
        "Width": 200.0,
        "Height": 1000.0,
        "Break": false
    }
}
```

---

### 3.9 MemberSPL (Member SPL Data) - Optional

Member definitions for splice plates (SPL).

```json
[
    {
        "Name": "SPL name",
        "Infor": {
            "Thick": thickness (mm),
            "Mat": material name,
            "Side": "side",
            "Ang": angle,
            "GLine": reference alignment name
        },
        "PJ": ["pitch1", "pitch2", ...],  // Pitch in the joint direction
        "PL": ["pitch1", ...],  // Left side pitch
        "PR": ["pitch1", ...],  // Right side pitch
        "Out": [X1, Y1, X2, Y2],  // Outline offset
        "Dhole": [diameter1, diameter2],  // Hole diameters
        "Solid": [length1, length2]   // Solid lengths
    },
    ...
]
```

---

### 3.10 MemberRib (Member Rib Data) - Optional

Member definitions for ribs (stiffeners).

```json
[
    {
        "Name": "Rib name (e.g., VSREF1, HSREF)",
        "Infor": {
            "Thick1": thickness1 (mm),
            "Thick2": thickness2 (mm),
            "Mat": material name,
            "Width": width (mm)
        },
        "Ang": [angle1, angle2, angle3],
        "Extend": [extension1, extension2, extension3, extension4],  // or numeric value, "Auto", "N"
        "Corner": [corner1, corner2, corner3, corner4],
        "JointS": [],  // Joint at start end
        "JointE": []   // Joint at terminal end
    },
    ...
]
```

---

### 3.11 MemberData (Member Data) - Optional

Definitions for other member data (slots, holes, anchor bolts, studs, etc.).

#### 3.11.1 SLOT

```json
{
    "Name": "Slot name",
    "Infor": [type],
    "Wide": [left width, right width],
    "Radius": [radius]
}
```

#### 3.11.2 HOLE

```json
{
    "Name": "Hole name",
    "Infor": [type],
    "Length": [length1, length2],
    "Width": [width1, width2],
    "Radius": [radius1, radius2, radius3, radius4],
    "Stiff": [
        [distance correction 1, distance correction 2, distance correction 3, distance correction 4],
        [stiffener name 1, stiffener name 2, stiffener name 3, stiffener name 4]
    ]
}
```

#### 3.11.3 ASHIBA / TAICAU (Anchor Bolt / Pedestal)

```json
{
    "Name": "Member name (e.g., ASHIBAR)",
    "Infor": [type, parameter1, parameter2, material],
    "Point": [
        ["point name", X coordinate, Y coordinate, Z coordinate],
        ...
    ],
    "Out": [
        ["LINE", "P7", "P4"],
        ["ARC", "P8", "P1T", "P7"],
        ...
    ],
    "Hole": [
        ["point name", "type", radius],
        ...
    ]
}
```

- `Out` elements:
  - `["LINE", "point1", "point2", ...]`: Connect with straight lines
  - `["ARC", "point1", "point2", "point3"]`: Connect with an arc (point2 is the center)

#### 3.11.4 STUD

```json
{
    "Name": "Stud name (e.g., ST1)",
    "Infor": [type, size, material],  // e.g., ["STUD", "20x140", "SS400"]
    "Nut": [size]  // e.g., ["30x10"]
}
```

---

## 4. Pitch Notation Specification

### 4.1 Basic Format

Pitch is a sequence of numeric values separated by `/`:

```
"100/200/300"  // Pitch of 100mm, 200mm, 300mm
```

### 4.2 Repetition Notation

Use `@` to express repetition:

```
"3@100"  // Repeat 100mm three times
"3@100/200/50"  // 100mm three times, 200mm, 50mm
```

### 4.3 Use of Unknown (X)

An unknown value auto-calculated from the total length is expressed as `X`:

```
"100/200/X"  // First two pitches are fixed, the remainder is calculated as X
"3@100/X"    // 100mm three times, remainder is X
```

### 4.4 Ratio Notation

Use `:` to express ratios:

```
"100:2"  // Divide 100mm into 2 equal parts
```

### 4.5 Compound Notation

Combining multiple formats:

```
"425/10@245/16@200/30@100/250"  // 425mm, 245mm x10, 200mm x16, 100mm x30, 250mm
```

---

## 5. Coordinate System and Units

- **Coordinate unit**: Millimeters (mm)
- **Coordinate system**: 3D Cartesian coordinate system (X, Y, Z)
- When reading from Excel, meter-unit values are multiplied by 1000 to convert to mm

---

## 6. Naming Conventions

### 6.1 Alignment Names

- `TG*`: Upper flange (Top Girder)
- `BG*`: Lower flange (Bottom Girder)
- Suffix: `L`=left, `R`=right, none=center

### 6.2 Section Point Names

- `P*`: Reference point
- `GE*`: End point
- `S*`: Start point
- `C*`: Intermediate point (Center)
- `J*`: Joint point

### 6.3 Panel Names

Format: `{girder number}B{block number}{type}`

Examples:
- `G1B1W`: Girder 1, Block 1, Web panel
- `G2B1UF`: Girder 2, Block 1, Upper Flange panel
- `G2B1LF`: Girder 2, Block 1, Lower Flange panel

---

## 7. Data Dependencies

1. **Senkei** -> Coordinate data that serves as the basis for all other sections
2. **MemberRib** -> Referenced by Lrib, Vstiff, Hstiff in MainPanel
3. **MemberSPL** -> Referenced by Jbut in MainPanel
4. **MemberData** -> Referenced by Atm, Cutout, Stud in MainPanel, as well as by Taikeikou and Yokokou
5. **MainPanel** -> Referenced for position calculations in SubPanel, Taikeikou, and Yokokou

---

## 8. Usage Examples

### 8.1 Minimal JSON Configuration

```json
{
    "Infor": {
        "NameBridge": "Test Bridge",
        "SideExport": 2
    },
    "Senkei": [
        {
            "Name": "TG1",
            "Point": [
                {"Name": "S1", "X": 0, "Y": 0, "Z": 0},
                {"Name": "E1", "X": 10000, "Y": 0, "Z": 0}
            ]
        }
    ],
    "Calculate": [],
    "MainPanel": [],
    "SubPanel": [],
    "Taikeikou": [],
    "Yokokou": [],
    "Shouban": [],
    "MemberSPL": [],
    "MemberRib": [],
    "MemberData": []
}
```

### 8.2 Web Panel Definition Example

```json
{
    "Name": "G1B1W",
    "Line": ["TG1", "BG1"],
    "Sec": ["S1", "E1"],
    "Type": {
        "Girder": "G1",
        "Block": "B1",
        "TypePanel": "W"
    },
    "Material": {
        "Thick1": 4.5,
        "Thick2": 4.5,
        "Mat": "SM400A"
    },
    "Expand": {
        "E1": 0,
        "E2": 0,
        "E3": 0,
        "E4": 0
    },
    "Jbut": {"S": [], "E": []},
    "Break": {},
    "Corner": [],
    "Lrib": [],
    "Vstiff": [],
    "Hstiff": [],
    "Atm": [],
    "Cutout": [],
    "Stud": []
}
```

---

## 9. Notes

1. **Required fields**: `Infor` and `Senkei` are required. Other sections are optional, but it is recommended to define them as empty arrays `[]`
2. **Name uniqueness**: Names must be unique within each section
3. **Reference integrity**: When referencing other sections, ensure that the referenced name exists
4. **Numeric types**: Coordinate values should be defined as numeric types (integer or float)
5. **String types**: Names should be defined as string types
6. **Array order**: The order of arrays may affect processing order
7. **Coordinate units**: Ensure all coordinate values are in mm

---

## 10. Error Handling

The program may raise errors in the following cases:

- A referenced alignment name does not exist within `Senkei`
- A referenced name in `MemberRib`, `MemberSPL`, or `MemberData` is not defined
- The total length is insufficient for pitch calculation (X cannot be calculated)
- Coordinate values are invalid (NaN, infinity, etc.)

---

## 11. Revision History

- Initial version: January 17, 2026
- JSON specification for the steel girder bridge IFC model generation system

---

## 12. References

- `src/bridge_json_to_ifc/senkei_models.py`: Pydantic model definition for SenkeiSpec
- `src/bridge_json_to_ifc/convert_simple_to_senkei_json.py`: BridgeDesign -> SenkeiSpec conversion
- `src/bridge_json_to_ifc/convert_senkei_json_to_ifc.py`: SenkeiSpec -> IFC conversion
- `src/bridge_json_to_ifc/ifc_utils_new/io/DefJson.py`: Excel to JSON conversion processing
- `src/bridge_json_to_ifc/ifc_utils_new/core/DefBridge.py`: JSON to IFC model generation processing
